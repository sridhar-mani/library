{% extends 'layout.html' %}

{% block title %}
    Profile page
{% endblock %}

{% block content %}
<div class="heading">
    <h1>Hello <span class="text-muted" >@{{user.username}}</span></h1>
    <div class="profile-pic">
    {% if user.profile_pic %}
        <img src="{{user.profile_pic}}" alt="profile photo" width="100">
    {%else%}
        <img src="https://api.dicebear.com/7.x/lorelei/svg?seed={{user.username}}" alt="profile photo" width="100">
    {% endif %}
        
    </div> 
</div>
    <form action="" method="POST" class="form" enctype="multipart/form-data">
    <div class='form-group' >
        <label for="username">Username:</label>
        <input type="text" name="username" value= "{{user.username}}" class="form-control" required>
    </div>
    <div class='form-group'>
        <label for="cpassword">Current Password:</label>
        <input type="password" name="cpassword" class="form-control" required>
    </div>
    <div class='form-group'>
        <label for="npassword">New Password:</label>
        <input type="password" name="npassword" class="form-control" required>
    </div>
    <div class='form-group' >
        <label for="name">Name:</label>
        <input type="text" name="name" value= "{{user.name}}" class="form-control" required>
    </div>
    <div class="form-group">
        <label for="profilepic" class="form-label">Profile Picture:</label>
        <input type="file" name="profilepic" id="profilepic" class="form-control">
    </div>         
    <br>
    </div>
        <div class="buttons">
            <a href="{{url_for('logout')}}" class="btn btn-outline-danger m-3">LOGOUT</a>           
            <button type="submit" value="Update" class="btn btn-primary m-3">UPDATE</button>
        </div>
</form>

{% endblock %}

{% block style %}
    <style>
        .heading {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            margin: 0.6%;
        }
        .buttons{
            display: flex;
            flex-direction: row;
            justify-content: center;
        }
        .profile-pic{
            width: 100px;
            height: 100px;
            border: 3px solid black;
            border-radius: 50%;
            overflow: hidden;
            margin-bottom: 0.6%;
        }
        .form-group {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            text-align: center;
            margin-bottom: 0.6%;
        }
        .form{
            margin-top: 1%;
        }
        .form-group label {
            margin-right: 1%; 
            width: 155px;
            text-align: right;
            font-size: larger;
        }
        .form-control {
            width: 400px;
            padding: 10px;
            align-items: center;
    
            border: 1px solid #ced4da;
            border-radius: 5px;
        }
    </style>
{% endblock %}